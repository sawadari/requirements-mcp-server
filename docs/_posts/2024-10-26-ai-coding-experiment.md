---
layout: post
title: AIコーディングで要求管理ツールを作った実験記録
date: 2024-10-26
tags: [AI開発, Miyabi, 実験記録, モックアップ]
---

## はじめに：なぜこの実験を行ったのか

「AIコーディングは本当に実用的なのか？」「AIエージェントによる自動開発はどこまで可能なのか？」

これらの問いに答えるため、実際にAIコーディングツールを使って**要求管理MCPサーバー**のモックアップを構築する実験を行いました。本記事では、その過程で得られた知見を簡単に紹介します。

---

## 🧭 実験の目的

### 主目的
AIによるソフトウェアの自動開発の**実力と限界**を把握する。

### 副目的
- **Miyabi**（Claudeコード拡張ツール）の構造・思想を理解する
- AI開発によってモックアップレベルのツールをどこまで迅速に構築できるか検証する
- VS Code上でAIとツールが連携する開発体験を確認する

---

## ⚙️ 実験環境と実施内容

### 使用ツール

| ツール | 役割 |
|--------|------|
| **Claudeコード** | API駆動のコード自動生成ツール |
| **Miyabi** | `npx miyabi`で起動、Claudeコードの上に動作するフレームワーク |
| **VS Code** | 実行・開発環境 |

### 作成した成果物

**要求管理MCPサーバー（モックアップ）**

AIとの対話により、要求をツリー構造で自動生成・管理する仕組み。

### 動作概要

1. 人間がチャットで要求を説明
2. AIが解析して要求構造（ツリー）を生成
3. MCPサーバーがデータを保持し、AIがそれを読み書き・分析可能にする

### 利用構成

ローカル上のVS CodeでClaudeコードをベースにMiyabiを追加実行。サーバー・クライアント構成を模擬。

---

## 💡 得られた知見

### 1. AIコーディングの有用性

**モックアップ構築においては非常に高効率。**

- ✅ 機能拡張のスピードが圧倒的に速い（多く見ても30分以内に1機能、githubへのコミット・プッシュもすべて実施）
- ✅ 開発者1人でも実用レベルの原型が短期間で作れる（モックアップレベルだが10数時間程度）

例えば、「A製品の要求を作成してください。ステークホルダは製品利用者です」と伝えると、MCPサーバにその機能がなかったら、ツールの機能拡張を提案し作成。ざっくりした説明からステークホルダ要求、システム要求の分解、上位と下位要求の整合性、粒度の調節などを自動的に実施でき、その依存関係を正確に表現している。

### 2. 費用対効果

**API利用料は高く感じたが、開発工数を考えれば十分安価。**

- ⚠️ Claude APIの利用料金は想定より高い（数十ドルがすぐ溶ける）
- ✅ ただしプロトタイピングや実験段階では優位性が高い
- ✅ 人件費と比較すれば依然としてコスト効率が良い
- ✅ 逆に運用段階ではコストを抑える方策が必要なのが課題

### 3. 開発体験の変化

**「ツールを使う」から「ツールを育てる」へ。**

従来の開発:
```
要件定義 → 設計 → 実装 → テスト → デプロイ
```

AI開発:
```
対話 → 生成 → 確認 → 修正 → 対話 → ...（継続的な進化）

この自動化環境はMiyabiによる成果が大きい

```

結論：ユーザーがAIエージェントを通してツールを進化させていく構造が明確に見えた。

### 4. 技術的示唆

**トレーサビリティ（要求間関係）の自動化がAIで十分に実現可能。**

- ✅ 一定のルール化を行えばAIによる構造生成・分析ができ、MCPサーバー側でデータのインフラ化できそう
- ✅ （もしかすると）既存ツールよりも操作効率・柔軟性が高い
- ✅ JSON形式での要求管理はAIとの親和性が極めて高い

---

## ⚠️ 課題と限界

### 1. コスト面

**Claude APIの運用コストがばかにならない（開発コストは安く思える）**

継続的な利用にはコスト最適化が必要。特に大規模プロジェクトでの運用には要検討。

### 2. データ永続化

**現時点ではVS Codeローカル保存に留まる。**

DB統合までは未実施。実運用には以下が必要:
- データベース統合
- バックアップ機構
- 複数ユーザーでの共有機能

### 3. 成熟度

**まだモックアップレベル。**

実運用に耐えるには以下の設計が必要:
- 構成管理
- 認証・認可
- データ保全
- エラーハンドリング

### 4. AIとの責任分担

**「どの程度頼ってよいか？」「人間は怠惰である」AI活用の運用設計は課題**

- きっと人間は判断しなくなり、Enter Keyを押すだけになる
- 修正履歴と判断根拠、判断結果の記録は残せるが、問題があったときに見るだけになる
- 最終的に「使う人が困らない」ための責任分担、例えば出荷判断の検査は「見落としゼロ」の責任を担う
- 責任をどう担い、また評価し、成果報酬につなげるのか運用設計が必要

---

## 🚀 今後の展望

### 1. 開発スタイルの変化

**「AI-assisted agile development」の実例として有望。**

- モックアップ構築をAIが担う
- 人間は設計意図や品質判断に集中
- スプリントの速度が劇的に向上

### 2. ツールの方向性

**「自己拡張型ツール」が主流化する可能性。**

- 各ユーザーが自分専用のAIコーディング環境を持つ
- ツールが使用者の文脈に合わせて自律進化する
- Miyabiのようなフレームワークが標準化される

### 3. 要求管理MCPサーバーの進化

**要求データをAIが継続的に解析・更新。**

- トレーサビリティと分析を自動化
- PLM的な枠を超えた「知識的インフラ」として発展しうる
- 要求→設計→実装→テストの全工程を自動連携

---

## 総括

**AIコーディングは、開発の自動化というよりも「開発者とAIが共同で成長するプロセス」を担っている。**

今回、要求管理という高難度領域でも、AIがツール生成と構造設計を人間のニーズをもとに開発し、人間が評価して、機能追加を行うことが可能になった

### 次のステップ

今後はモックアップレベルは変えずに機能をどんどん追加して、**どこまで理想像を描けるか実験していく。**

この実験は以下のGitHubリポジトリで継続中:

- [requirements-mcp-server](https://github.com/sawadari/requirements-mcp-server)
- [技術ブログ](/requirements-mcp-server/blog/)で進捗を随時公開

---

## あなたも試してみませんか？

この実験は誰でも再現可能です。

**必要なもの:**
- VS Code
- Claude API キー
- Miyabi（`npx miyabi`でインストール）

**始め方:**
1. リポジトリをクローン
2. `npm install && npm run build`
3. `npx miyabi`で起動
4. チャットで要求を入力

詳細は[クイックスタート](/requirements-mcp-server/#quickstart)をご覧ください。

---

**関連記事:**
- [要求の"自動修正"を安全に回すコツ](/requirements-mcp-server/2024/10/25/hello-mcp.html)

**次回予告:**
- オントロジーのカスタマイズ方法
- 妥当性チェックの実装詳細
