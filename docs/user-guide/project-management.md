# プロジェクト管理機能

requirements-mcp-serverは複数のプロジェクトを管理する機能を提供します。異なるシステムや製品の要求を分離して管理できます。

---

## 📚 目次

- [概要](#概要)
- [プロジェクトの基本操作](#プロジェクトの基本操作)
- [使用例](#使用例)
- [ユースケース](#ユースケース)
- [ベストプラクティス](#ベストプラクティス)

---

## 概要

### プロジェクト管理とは

プロジェクト管理機能により、以下が可能になります：

- **複数システムの並行開発** - システムAとシステムBの要求を分離
- **フェーズ別管理** - 設計フェーズと実装フェーズで別プロジェクト
- **環境別管理** - 開発環境と本番環境で別プロジェクト
- **プロトタイプ作成** - 既存プロジェクトをコピーして新規作成

---

## プロジェクトの基本操作

### 1. プロジェクト一覧を確認

すべてのプロジェクトを表示：

```
すべてのプロジェクトをリストアップしてください
```

**MCPツール**: `list_projects`

**出力例:**
```json
[
  {
    "id": "requirements",
    "name": "Default Requirements",
    "dataFile": "./data/requirements.json",
    "requirementCount": 40,
    "lastUpdated": "2025-11-06T12:00:00.000Z",
    "isActive": true
  },
  {
    "id": "project-alpha",
    "name": "Alpha System",
    "dataFile": "./data/projects/project-alpha.json",
    "requirementCount": 15,
    "lastUpdated": "2025-11-05T10:00:00.000Z",
    "isActive": false
  }
]
```

---

### 2. 現在のプロジェクトを確認

アクティブなプロジェクトの情報を表示：

```
現在のプロジェクト情報を表示してください
```

**MCPツール**: `get_current_project`

---

### 3. プロジェクトを切り替え

別のプロジェクトに切り替え：

```
プロジェクトをproject-alphaに切り替えてください
```

**MCPツール**: `switch_project`

**注意**: 切り替え後、すべての操作は新しいプロジェクトに対して実行されます。

---

### 4. 新しいプロジェクトを作成

#### 空のプロジェクトを作成

```
新しいプロジェクト「project-beta」を作成してください
プロジェクト名: Beta System
説明: 次世代システムの要求管理
```

**MCPツール**: `create_project`

**パラメータ:**
- `projectId` (必須) - プロジェクトID（[a-z0-9-]+形式）
- `projectName` (必須) - プロジェクト名
- `description` (オプション) - 説明
- `copyFrom` (オプション) - コピー元プロジェクトID

#### 既存プロジェクトをコピー

```
プロジェクト「project-alpha」をコピーして「project-gamma」を作成してください
```

---

### 5. プロジェクトを削除

不要なプロジェクトを削除：

```
プロジェクト「project-test」を削除してください
```

**MCPツール**: `delete_project`

**注意**: デフォルトプロジェクト（`requirements`）は削除できません。

---

## 使用例

### シナリオ1: 複数システムの並行開発

**状況**: システムAとシステムBを並行開発

```bash
# 1. システムAのプロジェクトを作成
新しいプロジェクト「system-a」を作成してください
プロジェクト名: System A
説明: メインシステムの要求管理

# 2. システムAに切り替え
プロジェクトをsystem-aに切り替えてください

# 3. システムAの要求を追加
新しい要求を追加してください...

# 4. システムBのプロジェクトを作成
新しいプロジェクト「system-b」を作成してください
プロジェクト名: System B

# 5. システムBに切り替えて作業
プロジェクトをsystem-bに切り替えてください
```

---

### シナリオ2: フェーズ別管理

**状況**: 設計フェーズと実装フェーズで要求を分離

```bash
# 1. 設計フェーズのプロジェクト
新しいプロジェクト「phase-design」を作成してください
プロジェクト名: Design Phase
説明: 設計段階の要求

# 2. 実装フェーズに移行する際、設計をコピー
プロジェクト「phase-design」をコピーして「phase-implementation」を作成してください

# 3. 実装フェーズに切り替え
プロジェクトをphase-implementationに切り替えてください
```

---

### シナリオ3: プロトタイプ作成

**状況**: 既存プロジェクトを基にプロトタイプを作成

```bash
# 既存プロジェクトをコピー
プロジェクト「requirements」をコピーして「prototype-v2」を作成してください

# プロトタイプに切り替え
プロジェクトをprototype-v2に切り替えてください

# 実験的な変更を加える
要求REQ-123を更新してください...
```

---

## ユースケース

### 🏢 企業システム開発

**複数製品ライン:**
- `product-erp` - ERPシステム
- `product-crm` - CRMシステム
- `product-analytics` - 分析システム

各製品の要求を独立して管理。

---

### 🚀 アジャイル開発

**スプリント別管理:**
- `sprint-1` - スプリント1の要求
- `sprint-2` - スプリント2の要求
- `backlog` - バックログ

スプリントごとに要求を整理。

---

### 🔬 研究開発

**実験プロジェクト:**
- `experiment-baseline` - ベースライン
- `experiment-variant-a` - 変更案A
- `experiment-variant-b` - 変更案B

複数の変更案を並行して評価。

---

## ベストプラクティス

### ✅ Do（推奨）

1. **命名規則を統一**
   ```
   product-[name]
   phase-[stage]
   sprint-[number]
   ```

2. **説明を記載**
   - プロジェクトの目的
   - 対象システム/フェーズ
   - 作成日・担当者

3. **定期的なバックアップ**
   - 重要なプロジェクトは定期的にコピー
   - `[project-id]-backup-YYYYMMDD` 形式

4. **不要なプロジェクトは削除**
   - テストプロジェクトは削除
   - 完了したプロジェクトはアーカイブ

---

### ❌ Don't（非推奨）

1. **デフォルトプロジェクトで全て管理**
   - 複数システムを混在させない

2. **不明確な命名**
   - `test`, `temp`, `aaa` などは避ける

3. **プロジェクトを放置**
   - 使わないプロジェクトは削除

---

## データ保存場所

プロジェクトデータは以下に保存されます：

```
data/
├── requirements.json              # デフォルトプロジェクト
└── projects/
    ├── project-alpha.json
    ├── project-beta.json
    └── ...
```

---

## トラブルシューティング

### プロジェクトが切り替わらない

**原因**: プロジェクトIDが存在しない

**解決策**:
```bash
# 1. プロジェクト一覧を確認
すべてのプロジェクトをリストアップしてください

# 2. 正しいIDで切り替え
プロジェクトを[正しいID]に切り替えてください
```

---

### デフォルトプロジェクトに戻せない

**解決策**:
```bash
プロジェクトをrequirementsに切り替えてください
```

---

### プロジェクトが削除できない

**原因**: デフォルトプロジェクト（`requirements`）は削除できません

**解決策**: 別のプロジェクトIDを指定

---

## 関連ドキュメント

- [MCPツールリファレンス](mcp-tools.md) - プロジェクト管理ツール詳細
- [クイックスタート](../getting-started/quick-start.md) - 基本的な使い方
- [チュートリアル](../getting-started/tutorial.md) - 実例で学ぶ

---

**最終更新**: 2025-11-06
