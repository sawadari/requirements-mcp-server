{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Web/AI System Requirements Ontology",
  "description": "Ontology for Web and AI system development (User Story â†’ Feature â†’ API/Model â†’ Implementation)",
  "version": "1.0.0",
  "stages": [
    {
      "id": "user_story",
      "name": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼",
      "description": "ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®ä¾¡å€¤æä¾›",
      "level": 1,
      "abstractionLevel": "high",
      "canHaveChildren": true,
      "canHaveParent": false,
      "parentStages": [],
      "childStages": ["feature"],
      "color": "#E91E63",
      "icon": "ğŸ‘¤"
    },
    {
      "id": "feature",
      "name": "ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼",
      "description": "å®Ÿè£…ã•ã‚Œã‚‹æ©Ÿèƒ½",
      "level": 2,
      "abstractionLevel": "medium",
      "canHaveChildren": true,
      "canHaveParent": true,
      "parentStages": ["user_story"],
      "childStages": ["api", "model"],
      "color": "#00BCD4",
      "icon": "âœ¨"
    },
    {
      "id": "api",
      "name": "APIä»•æ§˜",
      "description": "APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹",
      "level": 3,
      "abstractionLevel": "low",
      "canHaveChildren": true,
      "canHaveParent": true,
      "parentStages": ["feature"],
      "childStages": ["implementation"],
      "color": "#8BC34A",
      "icon": "ğŸ”Œ"
    },
    {
      "id": "model",
      "name": "ãƒ¢ãƒ‡ãƒ«ä»•æ§˜",
      "description": "ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã¨AIãƒ¢ãƒ‡ãƒ«ã®å®šç¾©",
      "level": 3,
      "abstractionLevel": "low",
      "canHaveChildren": true,
      "canHaveParent": true,
      "parentStages": ["feature"],
      "childStages": ["implementation"],
      "color": "#FFC107",
      "icon": "ğŸ§ "
    },
    {
      "id": "implementation",
      "name": "å®Ÿè£…è¦æ±‚",
      "description": "å…·ä½“çš„ãªå®Ÿè£…ãƒ¬ãƒ™ãƒ«ã®è¦æ±‚",
      "level": 4,
      "abstractionLevel": "low",
      "canHaveChildren": false,
      "canHaveParent": true,
      "parentStages": ["api", "model"],
      "childStages": [],
      "color": "#607D8B",
      "icon": "ğŸ’»"
    }
  ],
  "derivationRules": {
    "user_story": {
      "allowedChildren": ["feature"],
      "meceRequired": true,
      "description": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¯ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã«åˆ†è§£ã•ã‚Œã‚‹"
    },
    "feature": {
      "allowedChildren": ["api", "model"],
      "meceRequired": false,
      "description": "ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã¯APIã¾ãŸã¯ãƒ¢ãƒ‡ãƒ«ã«åˆ†è§£ã•ã‚Œã‚‹"
    },
    "api": {
      "allowedChildren": ["implementation"],
      "meceRequired": true,
      "description": "APIä»•æ§˜ã¯å®Ÿè£…è¦æ±‚ã«åˆ†è§£ã•ã‚Œã‚‹"
    },
    "model": {
      "allowedChildren": ["implementation"],
      "meceRequired": true,
      "description": "ãƒ¢ãƒ‡ãƒ«ä»•æ§˜ã¯å®Ÿè£…è¦æ±‚ã«åˆ†è§£ã•ã‚Œã‚‹"
    },
    "implementation": {
      "allowedChildren": [],
      "meceRequired": false,
      "description": "å®Ÿè£…è¦æ±‚ã¯æœ€ä¸‹å±¤"
    }
  },
  "granularityRules": {
    "user_story": {
      "descriptionLength": {
        "min": 50,
        "max": 300,
        "recommended": 150
      },
      "titleLength": {
        "min": 15,
        "max": 80,
        "recommended": 40
      },
      "abstractionScore": {
        "min": 0.7,
        "max": 1.0,
        "recommended": 0.85
      }
    },
    "feature": {
      "descriptionLength": {
        "min": 100,
        "max": 500,
        "recommended": 250
      },
      "titleLength": {
        "min": 20,
        "max": 100,
        "recommended": 50
      },
      "abstractionScore": {
        "min": 0.5,
        "max": 0.8,
        "recommended": 0.65
      }
    },
    "api": {
      "descriptionLength": {
        "min": 150,
        "max": 800,
        "recommended": 400
      },
      "titleLength": {
        "min": 25,
        "max": 120,
        "recommended": 60
      },
      "abstractionScore": {
        "min": 0.2,
        "max": 0.5,
        "recommended": 0.35
      }
    },
    "model": {
      "descriptionLength": {
        "min": 150,
        "max": 800,
        "recommended": 400
      },
      "titleLength": {
        "min": 25,
        "max": 120,
        "recommended": 60
      },
      "abstractionScore": {
        "min": 0.2,
        "max": 0.5,
        "recommended": 0.35
      }
    },
    "implementation": {
      "descriptionLength": {
        "min": 200,
        "max": 1000,
        "recommended": 500
      },
      "titleLength": {
        "min": 30,
        "max": 150,
        "recommended": 70
      },
      "abstractionScore": {
        "min": 0.0,
        "max": 0.3,
        "recommended": 0.15
      }
    }
  },
  "validationRules": {
    "global": {
      "maxDepth": 12,
      "allowCycles": false,
      "requireUniqueIds": true
    },
    "byStage": {
      "user_story": {
        "requiredFields": ["title", "description", "priority"],
        "optionalFields": ["author", "tags", "acceptance_criteria", "business_value"],
        "forbiddenFields": ["implementation_hints", "api_specification", "model_architecture"]
      },
      "feature": {
        "requiredFields": ["title", "description", "priority", "category"],
        "optionalFields": ["rationale", "author", "tags", "non_functional_requirements"],
        "forbiddenFields": ["implementation_hints"]
      },
      "api": {
        "requiredFields": ["title", "description", "priority", "category"],
        "optionalFields": ["rationale", "author", "tags", "api_specification", "authentication", "rate_limits"],
        "forbiddenFields": []
      },
      "model": {
        "requiredFields": ["title", "description", "priority", "category"],
        "optionalFields": ["rationale", "author", "tags", "model_architecture", "training_data", "evaluation_metrics"],
        "forbiddenFields": []
      },
      "implementation": {
        "requiredFields": ["title", "description", "priority", "category"],
        "optionalFields": ["rationale", "author", "tags", "implementation_hints", "code_location", "dependencies"],
        "forbiddenFields": []
      }
    }
  },
  "metadata": {
    "author": "requirements-mcp-server",
    "createdAt": "2025-10-21",
    "description": "Ontology for Web and AI system development with flexible branching"
  }
}
